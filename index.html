<!DOCTYPE html>
<html>
<head>
    <title>TravelUrrApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href='http://fonts.googleapis.com/css?family=Cinzel' rel='stylesheet' type='text/css'>
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/TravApp.css" rel="stylesheet">


</head>

<body>


<!--
<div class="modal-container col-xs-12">
    <div class="modal fade" id="myModal">
        <div class="modal-content col-xs-12">
            <div class="modal-body">
                <a class="close" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span></a>
                <form action="" method="post" accept-charset="UTF-8">
                <p><input id="user_username" type="text" name="user[username]" size="30" placeholder="Username"/></p>
                <p><input id="user_password" type="password" name="user[password]" size="30" placeholder="Password" /></p>
                </form>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Sign In</button>
            </div>
        </div>
    </div>
</div>
-->


<div class="col-xs-12" id="navbarstyle">
    <nav class="navbar navbar-default navbar-inverse" role="navigation" id="navbarstyle">
        <div class="row-fluid col-xs-12">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header navbar-left">
                <a class="navbar-brand" href="#" style="padding-right: 10px; padding-left: 10px"><span style="font-family: Cinzel"><strong>TravelUrr</strong></span></a>
                <a class="navbar-brand" href="#" style="padding-right: 10px; padding-left: 10px"><span class="glyphicon glyphicon-refresh"></span></a>
                <a class="navbar-brand" href="#" style="padding-right: 10px; padding-left: 10px"><span class="glyphicon glyphicon-envelope"></span></a>
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" style="margin-right: 5px">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="dropdown" id="drodo">
                        <a href="#" class="btn-group-xs">Settings</a>
                        <a href="#" class="btn-group-xs">Logout</a>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.row -->
    </nav>
</div>

<!-- Navigatoin bar ends here -->

<div class="container col-xs-12">
        <div class="btn-group btn-group-sm" id="uploadbtn">
                <button type="button" class="btn btn-default" id="butup"><span class="glyphicon glyphicon-upload"></span><strong> Picture</strong></button>
                <button type="button" class="btn btn-default" id="butup2" data-toggle="modal" data-target="#modmod"><span class="glyphicon glyphicon-upload"></span><strong> Text</strong></button>
        </div>
</div>

<div class="modal fade" id="modmod" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
                <textarea class="form-control" rows="5"></textarea>
                    <div class="btn-xs" id="butbutbut">
                        <button class="btn btn-xs" type="submit" data-dismiss="modal" id="picsetfoot"><strong>Cancel</strong></button>
                        <button class="btn btn-xs" type="submit" id="picsetfoot"><strong>Done!</strong></button>

                    </div>
        </div>
    </div>
</div>


    <div class="row-fluid col-xs-12">

        <p style="margin-bottom: 0">16-04-2014</p> <hr style="margin-bottom: 5px; margin-top: 0">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="picpic.png" style="" data-toggle="modal" data-target="#addcap">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="picpic.png" style="" data-toggle="modal" data-target="#addcap">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="picpic.png" style="" data-toggle="modal" data-target="#addcap">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>

            <span id="restOfArticle" style="display:none">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div></span>

        <div class="butbut">
        <button class="btn btn-default"><a onclick="showMoreOrLess(this,'restOfArticle');">More!</a></button>
        </div>

        <p style="margin-bottom: 0">18-04-2014</p> <hr style="margin-bottom: 5px; margin-top: 0">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>

        <span id="restOfArticle2" style="display:none">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div></span>

        <div class="butbut">
            <button class="btn btn-default"><a onclick="showMoreOrLess(this,'restOfArticle2');">More!</a></button>
        </div>

        <p style="margin-bottom: 0">19-04-2014</p> <hr style="margin-bottom: 5px; margin-top: 0">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>

        <span id="restOfArticle3" style="display:none">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div></span>

        <div class="butbut">
            <button class="btn btn-default"><a onclick="showMoreOrLess(this,'restOfArticle3');">More!</a></button>
        </div>
        <p style="margin-bottom: 0">16-04-2014</p> <hr style="margin-bottom: 5px; margin-top: 0">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>

            <span id="restOfArticle4" style="display:none">

        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div>
        <div class="col-xs-12 col-xs-4">
            <div class="thumbnail">
                <img class="img-responsive" src="http://placehold.it/20x20">
            </div>
        </div></span>

        <div class="butbut">
            <button class="btn btn-default"><a onclick="showMoreOrLess(this,'restOfArticle4');">More!</a></button>
        </div>

        <p style="margin-bottom: 0">18-04-2014</p> <hr style="margin-bottom: 5px; margin-top: 0">

    </div>

<div class="modal fade" id="addcap">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Picture Settings</h4>
            </div>
            <div class="modal-body" id="modbodthumb">
                <p><input type="text" class="form-control" placeholder="Give your picture a caption or title"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-xs" id="picsetfoot"><strong>Delete picture</strong></button>
                <button type="button" class="btn btn-xs" data-dismiss="modal"><strong>Cancel</strong></button>
                <button type="button" class="btn btn-xs" id="picsetfoot"><strong>Save changes</strong></button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<a class="btn deux" onclick="toggleWatchPosition();">Toggle</a>
<a class="btn deux" onclick="getCurrentPosition();">Get Current</a>
<div class="result-block">
    <span id="cur_position"></span>
</div>
<img id="map" alt="Location Map"/>


<button onclick="capturePhoto();">Capture Photo</button> <br>
<button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br>
<button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br>
<button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo Album</button><br>

<img style="display:none;" id="largeImage" src="" />


<script src="http://code.jquery.com/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/ProgramApp.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script type="text/javascript" charset="utf-8">

var pictureSource;   // picture source
var destinationType; // sets the format of returned value

// Wait for device API libraries to load
//
document.addEventListener("deviceready",onDeviceReady,false);

// device APIs are available
//
function onDeviceReady() {
    pictureSource=navigator.camera.PictureSourceType;
    destinationType=navigator.camera.DestinationType;
}

// Called when a photo is successfully retrieved
//
function onPhotoDataSuccess(imageData) {
    // Uncomment to view the base64-encoded image data
    // console.log(imageData);

    // Get image handle
    //
    var smallImage = document.getElementById('smallImage');

    // Unhide image elements
    //
    smallImage.style.display = 'block';

    // Show the captured photo
    // The inline CSS rules are used to resize the image
    //
    smallImage.src = "data:image/jpeg;base64," + imageData;
}

// Called when a photo is successfully retrieved
//
function onPhotoURISuccess(imageURI) {
    // Uncomment to view the image file URI
    // console.log(imageURI);

    // Get image handle
    //
    var largeImage = document.getElementById('largeImage');

    // Unhide image elements
    //
    largeImage.style.display = 'block';

    // Show the captured photo
    // The inline CSS rules are used to resize the image
    //
    largeImage.src = imageURI;
}

// A button will call this function
//
function capturePhoto() {
    // Take picture using device camera and retrieve image as base64-encoded string
    navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
        destinationType: destinationType.DATA_URL });
}

// A button will call this function
//
function capturePhotoEdit() {
    // Take picture using device camera, allow edit, and retrieve image as base64-encoded string
    navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
        destinationType: destinationType.DATA_URL });
}

// A button will call this function
//
function getPhoto(source) {
    // Retrieve image file location from specified source
    navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
        destinationType: destinationType.FILE_URI,
        sourceType: source });
}

// Called if something bad happens.
//
function onFail(message) {
    alert('Failed because: ' + message);
}



    $(window).load(function(){
    $('#myModal').modal('show');
});

    function showMoreOrLess(thisObj,bonusContent){
        var caption = thisObj.innerHTML;
        if ( caption == "More!" ) {
            document.getElementById(bonusContent).style.display = "inline";
            thisObj.innerHTML = "Close";
        } else {
            document.getElementById(bonusContent).style.display = "none";
            thisObj.innerHTML = "More!";
        }
    }

    var
            getCurrentPosition = function() {
                var map = document.getElementById('map');
                var success = function(pos) {
                    var text = "<div>Latitude: " + pos.coords.latitude +
                            "<br/>" + "Longitude: " + pos.coords.longitude + "<br/>" +
                            "Accuracy: " + pos.coords.accuracy + "m<br/>" + "</div>";
                    document.getElementById(
                            'cur_position').innerHTML = text;
                    console.log(text);
                    map.style.display =
                            'block';
                    var mapwidth = 270; // a mungy compromise between the 2 sizes
                    var mapheight = 210; // since we can't get w / h dynamically
                    map.src =
                            "http://maps.googleapis.com/maps/api/staticmap?center=" +
                                    pos.coords.latitude +
                                    "," + pos.coords.longitude +
                                    "&zoom=14&size=" + mapwidth + "x" + mapheight + "&maptype=roadmap&markers=color:green%7C" +
                                    pos.coords.latitude +
                                    "," + pos.coords.longitude + "&sensor=false";
                };
                var fail = function(error) {
                    document.getElementById(
                            'cur_position').innerHTML = "Error getting geolocation: " + error.code;
                    console.log(
                            "Error getting geolocation: code=" + error.code + " message=" + error.message);
                };
                map.style.display =
                        'none';
                document.getElementById(
                        'cur_position').innerHTML = "Getting geolocation . . .";
                console.log(
                        "Getting geolocation . . .");
                navigator.geolocation.getCurrentPosition(success, fail);
            };


    var
            watchID = null;
    function
            clearWatch() {
        if (watchID !== null) {
            navigator.geolocation.clearWatch(watchID);
            watchID =
                    null;
            document.getElementById(
                    'cur_position').innerHTML = "";
            document.getElementById(
                    'map').style.display = 'none';
        }
    }
    var
            wsuccess = function(pos) {
                var map = document.getElementById('map');
                document.getElementById(
                        'cur_position').innerHTML = "Watching geolocation . . .";
                map.style.display =
                        'none';
                var text = "<div>Latitude: " + pos.coords.latitude +
                        " (watching)<br/>" + "Longitude: " + pos.coords.longitude + "<br/>" +
                        "Accuracy: " + pos.coords.accuracy + "m<br/>" + "</div>";
                document.getElementById(
                        'cur_position').innerHTML = text;
                console.log(text);
                map.style.display =
                        'block';
                var mapwidth = 270; // a mungy compromise between the 2 sizes
                var mapheight = 210; // since we can't get w / h dynamically
                map.src =
                        "http://maps.googleapis.com/maps/api/staticmap?center=" +
                                pos.coords.latitude +
                                "," + pos.coords.longitude +
                                "&zoom=13&size=" + mapwidth + "x" + mapheight + "&maptype=roadmap&markers=color:green%7C" +
                                pos.coords.latitude +
                                "," + pos.coords.longitude + "&sensor=false";
            };
    var
            wfail = function(error) {
                document.getElementById(
                        'cur_position').innerHTML = "Error getting geolocation: " + error.code;
                console.log(
                        "Error getting geolocation: code=" + error.code + " message=" + error.message);
            };
    var
            toggleWatchPosition = function() {
                if (watchID) {
                    console.log(
                            "Stopped watching position");
                    clearWatch();
// sets watchID = null;
                }
                else {
                    document.getElementById(
                            'map').style.display = 'none';
                    document.getElementById(
                            'cur_position').innerHTML = "Watching geolocation . . .";
                    console.log(
                            "Watching geolocation . . .");
                    var options = { frequency: 3000, maximumAge: 5000, timeout: 5000, enableHighAccuracy: true };
                    watchID = navigator.geolocation.watchPosition(wsuccess, wfail, options);
                }
            };
</script>
</body>
</html>